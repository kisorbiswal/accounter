<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field">

	<query name="getClient.by.mailId">
		<query-param name="emailId" type="String" />
		from com.vimukti.accounter.core.Client client
		where client.emailId
		=:emailId
	</query>

	<query name="get.activation.by.token">
		<query-param name="token" type="String" />
		from com.vimukti.accounter.core.Activation activation
		where
		activation.token
		=:token
	</query>
	
	<query name="get.activation.by.emailid">
		<query-param name="emailId" type="String" />
		from com.vimukti.accounter.core.Activation activation
		where
		activation.emailId
		=:emailId
	</query>

	<query name="delete.activation.by.emailId">
		<query-param name="emailId" type="String" />
		delete from com.vimukti.accounter.core.Activation activation
		where
		activation.emailId=:emailId
	</query>

	<query name="delete.activation.by.Id">
		<query-param name="id" type="integer" />
		delete from com.vimukti.accounter.core.Activation activation
		where
		activation.id=:id
	</query>


	<query name="get.companiesList.by.emailId.and.password">
		<query-param name="emailId" type="String" />
		<query-param name="password" type="String" />
		from com.vimukti.accounter.core.Client client
		where client.emailId
		=:emailId and client.password=:password
	</query>

	<query name="getclient.from.central.db.using.emailid.and.password">
		<query-param name="emailId" type="String" />
		<query-param name="password" type="String" />
		from com.vimukti.accounter.core.Client client
		where
		client.emailId=:emailId and client.password =:password
	</query>



	<query name="getServerCompany.by.name">
		<query-param name="name" type="string" />
		from com.vimukti.accounter.core.ServerCompany c where
		c.companyName=:name
	</query>

	<query name="getServerCompany.by.id">
		<query-param name="id" type="integer" />
		from com.vimukti.accounter.core.ServerCompany c where
		c.id=:id
	</query>

	<sql-query name="delete.Client.Companies">
		<query-param name="serverCompanyID" type="String" />
		delete from CLIENT_COMPANIES where COMPANY_ID=:serverCompanyID
	</sql-query>

	<query name="delete.ServerCompany.by.Id">
		<query-param name="id" type="String" />
		delete from com.vimukti.accounter.core.ServerCompany company
		where
		company.id
		=:id
	</query>
	
	<query name="get.Prioritize.Servers">
		from com.vimukti.accounter.core.Server s ORDER BY s.priority DESC, s.companiesCount 
	</query>
	
	<query name="delete.remembermeKeys">
		<query-param name="key" type="String" />
		delete from com.vimukti.accounter.core.RememberMeKey rk where rk.key=:key
	</query>
	
	<query name="get.remembermeKey">
		<query-param name="key" type="String" />
		from com.vimukti.accounter.core.RememberMeKey rk where rk.key=:key
	</query>

</hibernate-mapping>